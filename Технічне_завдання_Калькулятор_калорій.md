# Технічне завдання: Веб-додаток "Калькулятор калорій"

## 1. Загальна інформація

### 1.1 Назва проекту
**"CalorieTracker"** - Веб-додаток для відстеження харчування та підрахунку калорій

### 1.2 Мета проекту
Створення сучасного веб-додатку для допомоги користувачам у веденні здорового способу життя через відстеження харчування, підрахунок калорій та аналіз харчових звичок.

### 1.3 Команда розробки
- **3 особи** (Frontend, Backend, Full-stack/DevOps)

### 1.4 Технологічний стек
- **Frontend**: React + Apollo Client + TypeScript
- **Backend**: ASP.NET Core + GraphQL (HotChocolate)
- **База даних**: SQL Server / PostgreSQL
- **Зовнішнє API**: FatSecret Platform API (REST)
- **Додаткові інструменти**: Git, Docker (опціонально)

## 2. Функціональні вимоги

### 2.1 Система аутентифікації та авторизації
- **Реєстрація користувачів**
  - Форма реєстрації з валідацією
  - Підтвердження email
  - Встановлення початкових параметрів (вага, зріст, вік, стать, рівень активності)
  
- **Вхід в систему**
  - Логін через email/пароль
  - Запам'ятовування сесії
  - Відновлення паролю
  
- **Профіль користувача**
  - Редагування особистої інформації
  - Зміна цілей (схуднення/набір ваги/підтримка)
  - Налаштування денної норми калорій

### 2.2 Пошук та додавання продуктів
- **Інтеграція з FatSecret API**
  - Пошук продуктів за назвою
  - Сканування штрих-кодів (UPC/EAN)
  - Автодоповнення при пошуку
  - Відображення детальної інформації про продукт
  
- **Функції пошуку**
  - Фільтрація за категоріями
  - Збереження улюблених продуктів
  - Історія пошуку
  - Швидке додавання нещодавно використаних продуктів

### 2.3 Відстеження харчування
- **Щоденник харчування**
  - Додавання продуктів до прийомів їжі (сніданок, обід, вечеря, перекуси)
  - Вказання кількості спожитого продукту
  - Редагування та видалення записів
  
- **Візуалізація даних**
  - Графіки споживання калорій по днях
  - Розподіл макронутрієнтів (білки, жири, вуглеводи)
  - Порівняння з денною нормою
  - Теплова карта активності

### 2.4 Аналітика та звіти
- **Щоденна статистика**
  - Загальна кількість калорій
  - Розподіл макронутрієнтів
  - Відсоток виконання денної норми
  
- **Тижнева/місячна аналітика**
  - Тренди зміни ваги
  - Середнє споживання калорій
  - Найпопулярніші продукти
  - Експорт даних у PDF/Excel

### 2.5 Додаткові функції
- **Калькулятор рецептів**
  - Створення власних рецептів
  - Розрахунок калорійності готової страви
  - Збереження улюблених рецептів
  
- **Нагадування**
  - Налаштування часу прийомів їжі
  - Push-повідомлення
  - Нагадування про пиття води
  
- **Соціальні функції**
  - Додавання друзів
  - Поділення досягнень
  - Рейтинг активності

## 3. Технічні вимоги

### 3.1 Frontend (React + Apollo Client + TypeScript)
- **Структура проекту**
  ```
  src/
  ├── components/          # React компоненти
  ├── pages/              # Сторінки додатку
  ├── graphql/            # GraphQL схеми та запити
  ├── services/           # Apollo Client сервіси
  ├── types/              # TypeScript типи
  ├── utils/              # Допоміжні функції
  └── assets/             # Статичні ресурси
  ```

- **Основні компоненти**
  - Header з навігацією
  - Sidebar з меню
  - Форми реєстрації/логіну
  - Пошук продуктів (GraphQL queries)
  - Щоденник харчування
  - Графіки та статистика
  - Профіль користувача

### 3.2 Backend (ASP.NET Core + GraphQL)
- **Архітектура**
  - GraphQL API (HotChocolate)
  - Repository pattern
  - Unit of Work pattern
  - Dependency Injection
  
- **Основні GraphQL resolvers**
  - AuthResolver (реєстрація, логін, профіль)
  - FoodResolver (пошук продуктів, штрих-коди)
  - DiaryResolver (щоденник харчування)
  - AnalyticsResolver (статистика, звіти)
  - RecipeResolver (рецепти)
  
- **FatSecret REST Client**
  - HttpClient для інтеграції з FatSecret API
  - Кешування результатів
  - Обробка помилок API

### 3.3 База даних
- **Основні таблиці**
  ```sql
  Users (Id, Email, PasswordHash, Name, Age, Gender, Weight, Height, ActivityLevel, Goal, DailyCalories)
  FoodDiary (Id, UserId, Date, MealType, FoodId, Quantity, Calories)
  UserFoods (Id, UserId, FoodId, IsFavorite, LastUsed)
  Recipes (Id, UserId, Name, Ingredients, Instructions, TotalCalories)
  UserGoals (Id, UserId, TargetWeight, StartDate, EndDate)
  ```

### 3.4 GraphQL схема
- **Основні типи**
  ```graphql
  type User {
    id: ID!
    email: String!
    name: String!
    age: Int
    gender: String
    weight: Float
    height: Float
    activityLevel: String
    goal: String
    dailyCalories: Int
  }
  
  type Food {
    id: ID!
    name: String!
    calories: Int!
    protein: Float
    fat: Float
    carbohydrates: Float
    barcode: String
  }
  
  type DiaryEntry {
    id: ID!
    date: DateTime!
    mealType: String!
    food: Food!
    quantity: Float!
    calories: Int!
  }
  ```

### 3.5 Інтеграція з FatSecret API
- **Використання Basic Edition** (5,000 API calls/day)
- **REST API інтеграція**
  - HttpClient для запитів до FatSecret
  - Пошук продуктів
  - Отримання деталей продукту
  - Сканування штрих-кодів
- **GraphQL адаптер**
  - Трансформація REST відповідей в GraphQL формат
  - Кешування результатів для оптимізації лімітів API
  - Обробка помилок та retry логіка

## 4. Дизайн та UX

### 4.1 Принципи дизайну
- **Мінімалістичний дизайн**
- **Адаптивність** (мобільні пристрої, планшети, десктоп)
- **Інтуїтивна навігація**
- **Швидкий доступ до основних функцій**

### 4.2 Кольорова схема
- **Основний колір**: Зелений (#4CAF50) - символ здоров'я
- **Додаткові кольори**: Синій (#2196F3), Помаранчевий (#FF9800)
- **Нейтральні**: Білий, Сірий, Чорний

### 4.3 Ключові сторінки
1. **Головна сторінка** - дашборд з денною статистикою
2. **Пошук продуктів** - інтерфейс пошуку та додавання
3. **Щоденник** - календарний вигляд з прийомами їжі
4. **Аналітика** - графіки та звіти
5. **Профіль** - налаштування користувача

## 5. Розподіл завдань у команді

### 5.1 Frontend розробник
- Створення React компонентів
- Налаштування Apollo Client
- Інтеграція з GraphQL API
- Адаптивний дизайн
- Візуалізація даних (графіки)

### 5.2 Backend розробник
- Розробка ASP.NET Core GraphQL API
- Налаштування бази даних
- Інтеграція з FatSecret REST API
- Система аутентифікації
- Бізнес-логіка та GraphQL resolvers

### 5.3 Full-stack/DevOps
- Налаштування проекту
- Конфігурація Git
- Деплой та хостинг
- Тестування
- Документація

## 6. Етапи розробки

### 6.1 Етап 1 (1-2 тижні) - Базова функціональність
- [ ] Налаштування проекту
- [ ] Система аутентифікації
- [ ] Базова структура БД
- [ ] Налаштування GraphQL схеми (HotChocolate)
- [ ] Інтеграція з FatSecret REST API
- [ ] Простий пошук продуктів через GraphQL

### 6.2 Етап 2 (2-3 тижні) - Основні функції
- [ ] Щоденник харчування
- [ ] Додавання продуктів
- [ ] Базова статистика
- [ ] Профіль користувача

### 6.3 Етап 3 (1-2 тижні) - Розширені функції
- [ ] Аналітика та графіки
- [ ] Рецепти
- [ ] Нагадування
- [ ] Покращення UX

### 6.4 Етап 4 (1 тиждень) - Фіналізація
- [ ] Тестування
- [ ] Оптимізація
- [ ] Документація
- [ ] Презентація проекту

## 7. Критерії успіху

### 7.1 Функціональні
- ✅ Користувач може зареєструватися та увійти
- ✅ Користувач може шукати та додавати продукти
- ✅ Користувач може вести щоденник харчування
- ✅ Система правильно підраховує калорії
- ✅ Користувач може переглядати статистику

### 7.2 Технічні
- ✅ Код написаний на TypeScript
- ✅ Використовується Apollo Client для GraphQL
- ✅ GraphQL API працює стабільно
- ✅ База даних оптимізована
- ✅ Додаток адаптивний

### 7.3 Якісні
- ✅ Інтуїтивний інтерфейс
- ✅ Швидка робота
- ✅ Безпека даних
- ✅ Документація коду

## 8. Ризики та обмеження

### 8.1 Технічні ризики
- **Ліміти FatSecret API** (5,000 calls/day) - потрібно реалізувати кешування
- **Складність OAuth** - використовувати готові бібліотеки
- **Продуктивність** - оптимізувати запити до БД

### 8.2 Обмеження
- **Тільки US dataset** у безкоштовній версії FatSecret API
- **Англійська мова** для продуктів
- **Базові функції** без Image Recognition та NLP

## 9. Безпека

### 9.1 Аутентифікація та авторизація
- **JWT токени** для аутентифікації
- **HTTPS** для шифрування даних
- **Хешування паролів** з сіллю
- **CORS** налаштування для дозволу запитів

### 9.2 Захист даних
- **Валідація вхідних даних** на всіх рівнях
- **SQL Injection** захист через Entity Framework
- **XSS** захист через React
- **Rate limiting** для API запитів

### 9.3 Кешування та безпека
- **Безпечне кешування** JWT токенів
- **Термін дії токенів** (access token: 15 хв, refresh token: 7 днів)
- **Автоматичне оновлення** токенів

## 10. Тестування

### 10.1 Unit тести
- **Backend тести** - тестування сервісів та резолверів
- **Frontend тести** - тестування React компонентів
- **GraphQL тести** - тестування схеми та запитів
- **Покриття коду** - мінімум 80% для критичних модулів

### 10.2 Integration тести
- **API тести** - тестування GraphQL ендпоінтів
- **База даних тести** - тестування Entity Framework
- **FatSecret API тести** - тестування інтеграції
- **Аутентифікація тести** - тестування JWT токенів

### 10.3 E2E тести
- **Користувацькі сценарії** - реєстрація, пошук, додавання продуктів
- **Кросбраузерне тестування** - Chrome, Firefox, Safari, Edge
- **Мобільне тестування** - адаптивність на різних пристроях
- **Продуктивність тести** - час відповіді та завантаження

## 11. Додаткові матеріали

### 11.1 Корисні посилання
- [FatSecret Platform API Documentation](https://platform.fatsecret.com/api-editions)
- [React Documentation](https://reactjs.org/docs/)
- [Apollo Client Documentation](https://www.apollographql.com/docs/react/)
- [HotChocolate GraphQL Documentation](https://chillicream.com/docs/hotchocolate)
- [ASP.NET Core Documentation](https://docs.microsoft.com/en-us/aspnet/core/)

### 11.2 Інструменти для розробки
- **Frontend**: Create React App, Apollo Client, Material-UI або Ant Design
- **Backend**: Visual Studio, HotChocolate GraphQL, Entity Framework
- **База даних**: SQL Server Express або PostgreSQL
- **API тестування**: GraphQL Playground, Postman
- **Версіонування**: Git, GitHub

---

**Дата створення**: 2025
**Версія**: 1.0
**Статус**: Готово до розробки
